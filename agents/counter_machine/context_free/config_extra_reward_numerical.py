from agents.counter_machine.machine import CounterMachine


class ContextFreeCounterMachine_Rewards(CounterMachine):
    def __init__(self):
        super().__init__()
        self.U = [0, 1, 2]
        self.F = [3]
        self.u_0 = 0

        self.delta_u = {
            ((1,), 0, ("-",)): 0,
            ((2,), 0, ("-",)): 0,
            ((3,), 0, ("-",)): 0,
            (("B",), 0, ("-",)): 1,
            (("C",), 0, ("-",)): 3,
            (("D",), 0, ("-",)): 3,
            ((), 0, ("-",)): 0,
            ((1,), 1, ("-",)): 3,
            ((2,), 1, ("-",)): 3,
            ((3,), 1, ("-",)): 3,
            (("B",), 1, ("-",)): 3,
            (("C",), 1, ("-",)): 2,
            (("D",), 1, ("-",)): 3,
            ((), 1, ("-",)): 1,
            ((1,), 2, ("-",)): 3,
            ((2,), 2, ("-",)): 3,
            ((3,), 2, ("-",)): 3,
            (("B",), 2, ("-",)): 3,
            (("C",), 2, ("-",)): 3,
            (("D",), 2, ("Z",)): 2,
            (("D",), 2, ("NZ",)): 2,
            ((), 2, ("NZ",)): 2,
            ((), 2, ("Z",)): 3,
        }
        self.delta_c = {
            ((1,), 0, ("-",)): (1,),
            ((2,), 0, ("-",)): (2,),
            ((3,), 0, ("-",)): (3,),
            (("B",), 0, ("-",)): (0,),
            (("C",), 0, ("-",)): (0,),
            (("D",), 0, ("-",)): (0,),
            ((), 0, ("-",)): (0,),
            ((1,), 1, ("-",)): (0,),
            ((2,), 1, ("-",)): (0,),
            ((3,), 1, ("-",)): (0,),
            (("B",), 1, ("-",)): (0,),
            (("C",), 1, ("-",)): (0,),
            (("D",), 1, ("-",)): (0,),
            ((), 1, ("-",)): (0,),
            ((1,), 2, ("-",)): (0,),
            ((2,), 2, ("-",)): (0,),
            ((3,), 2, ("-",)): (0,),
            (("B",), 2, ("-",)): (0,),
            (("C",), 2, ("-",)): (0,),
            (("D",), 2, ("Z",)): (0,),
            (("D",), 2, ("NZ",)): (-1,),
            ((), 2, ("NZ",)): (0,),
            ((), 2, ("Z",)): (0,),
        }
        self.delta_r = {
            ((1,), 0, ("-",)): 1,
            ((2,), 0, ("-",)): 1,
            ((3,), 0, ("-",)): 1,
            (("B",), 0, ("-",)): 1,
            (("C",), 0, ("-",)): -1,
            (("D",), 0, ("-",)): -1,
            ((), 0, ("-",)): 0,
            ((1,), 1, ("-",)): -1,
            ((2,), 1, ("-",)): -1,
            ((3,), 1, ("-",)): -1,
            (("B",), 1, ("-",)): -1,
            (("C",), 1, ("-",)): 1,
            (("D",), 1, ("-",)): -1,
            ((), 1, ("-",)): 0,
            ((1,), 2, ("-",)): -1,
            ((2,), 2, ("-",)): -1,
            ((3,), 2, ("-",)): -1,
            (("B",), 2, ("-",)): -1,
            (("C",), 2, ("-",)): -1,
            (("D",), 2, ("Z",)): 0,
            (("D",), 2, ("NZ",)): 1,
            ((), 2, ("NZ",)): 0,
            ((), 2, ("Z",)): 1,
        }
        self._init_transitions()
